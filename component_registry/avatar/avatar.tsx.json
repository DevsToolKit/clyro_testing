{
  "$schema": "https://clyro.devstoolkit.space/schema/registry-item.json",
  "name": "avatar",
  "type": "registry:ui",
  "author": "clyro (https://clyro.devstoolkit.space)",
  "dependencies": [
    "@radix-ui/react-slot"
  ],
  "files": [
    {
      "path": "ui/avatar.tsx",
      "content": "/* eslint-disable @next/next/no-img-element */\n\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\n/* --------------------\n   Context Types\n-------------------- */\ntype AvatarContextType = {\n  hasError: boolean;\n  setHasError: React.Dispatch<React.SetStateAction<boolean>>;\n};\n\nconst AvatarContext = React.createContext<AvatarContextType | null>(null);\n\n/* --------------------\n   Avatar Root\n   Wraps image/fallback\n-------------------- */\ninterface AvatarProps extends React.HTMLAttributes<HTMLDivElement> {\n  className?: string;\n  size?: \"s\" | \"m\" | \"l\" | \"xl\" | \"2xl\";\n  variant?: \"circle\" | \"square\";\n  children: React.ReactNode;\n}\n\n/* Change sizes here */\nconst sizeMap = {\n  s: \"w-6 h-6\",\n  m: \"w-8 h-8\",\n  l: \"w-10 h-10\",\n  xl: \"w-12 h-12\",\n  \"2xl\": \"w-16 h-16\",\n};\n\nfunction Avatar({\n  className,\n  size = \"m\",\n  variant = \"circle\",\n  children,\n  ...props\n}: AvatarProps) {\n  const [hasError, setHasError] = React.useState(false);\n\n  return (\n    <AvatarContext.Provider value={{ hasError, setHasError }}>\n      <div\n        data-slot=\"avatar\"\n        className={cn(\n          \"relative shrink-0 overflow-hidden\",\n          sizeMap[size],\n          variant === \"circle\" ? \"rounded-full\" : \"rounded-md\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    </AvatarContext.Provider>\n  );\n}\n\n/* --------------------\n   Avatar Image\n   Displays the avatar picture\n-------------------- */\ninterface AvatarImageProps extends React.ImgHTMLAttributes<HTMLImageElement> {\n  className?: string;\n}\n\nfunction AvatarImage({ className, ...props }: AvatarImageProps) {\n  const context = React.useContext(AvatarContext);\n  if (!context) throw new Error(\"AvatarImage must be used within Avatar\");\n\n  const { hasError, setHasError } = context;\n  if (hasError) return null;\n\n  return (\n    <img\n      data-slot=\"avatar-image\"\n      {...props}\n      className={cn(\"aspect-square w-full h-full object-cover\", className)}\n      onError={() => setHasError(true)}\n      alt={props.alt || \"avatar\"}\n    />\n  );\n}\n\n/* --------------------\n   Avatar Fallback\n   Shown if image fails\n-------------------- */\ninterface AvatarFallbackProps extends React.HTMLAttributes<HTMLDivElement> {\n  className?: string;\n  children?: React.ReactNode;\n}\n\nfunction AvatarFallback({\n  className,\n  children = \"?\",\n  ...props\n}: AvatarFallbackProps) {\n  const context = React.useContext(AvatarContext);\n  if (!context) throw new Error(\"AvatarFallback must be used within Avatar\");\n\n  const { hasError } = context;\n  if (!hasError) return null;\n\n  return (\n    <div\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        \"flex w-full h-full items-center justify-center text-sm font-medium text-muted-foreground bg-gray-100 text-[14px]\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n}\n\n/* --------------------\n   Export\n-------------------- */\nexport { Avatar, AvatarImage, AvatarFallback };\n",
      "type": "registry:ui",
      "target": ""
    }
  ]
}